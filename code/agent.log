Agent 节点已创建：
  PeerID: 12D3KooWKEQDS4nDGgnpz1dn8VghcdREduVAj4kkWuBLmf8gHH26
  监听地址:
    - /ip4/127.0.0.1/udp/57198/quic-v1/p2p/12D3KooWKEQDS4nDGgnpz1dn8VghcdREduVAj4kkWuBLmf8gHH26
    - /ip4/192.168.0.70/udp/57198/quic-v1/p2p/12D3KooWKEQDS4nDGgnpz1dn8VghcdREduVAj4kkWuBLmf8gHH26
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
Agent 节点已启动
====================DNS解析开始====================
[打洞注册] 节点 12D3KooWKEQDS4nDGgnpz1dn8VghcdREduVAj4kkWuBLmf8gHH26 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWKEQDS4nDGgnpz1dn8VghcdREduVAj4kkWuBLmf8gHH26
[Agent] 2025/05/26 13:54:12 Agent节点已启动并运行中...
[Agent] 2025/05/26 13:54:12 按Ctrl+C停止节点

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=481字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":1,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 1
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T13:54:12+08:00
Master信息已缓存，有效期至: 2025-05-26T14:24:12+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:24:12+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/57198/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 13:54:12.7315166 +0800 CST m=+0.140282101 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWKEQDS4nDGgnpz1dn8VghcdREduVAj4kkWuBLmf8gHH26","timestamp":1748238852733921100,"addrs":["/ip4/127.0.0.1/udp/57198/quic-v1","/ip4/192.168.0.70/udp/57198/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748238852734429900,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
[Agent] 2025/05/26 13:55:53 接收到停止信号，正在停止Agent节点...
Agent 节点已停止
[打洞监听] 停止监听打洞请求
[Agent] 2025/05/26 13:55:53 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWHoncVxSNogpzE68pWSFPbX7P4nYyzbzf4yErsnLgQwCP
  监听地址:
    - /ip4/127.0.0.1/udp/60332/quic-v1/p2p/12D3KooWHoncVxSNogpzE68pWSFPbX7P4nYyzbzf4yErsnLgQwCP
    - /ip4/192.168.0.70/udp/60332/quic-v1/p2p/12D3KooWHoncVxSNogpzE68pWSFPbX7P4nYyzbzf4yErsnLgQwCP
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
Agent 节点已启动
[Agent] 2025/05/26 13:56:03 Agent节点已启动并运行中...
[Agent] 2025/05/26 13:56:03 按Ctrl+C停止节点
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
[打洞注册] 节点 12D3KooWHoncVxSNogpzE68pWSFPbX7P4nYyzbzf4yErsnLgQwCP 已注册接收打洞请求
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWHoncVxSNogpzE68pWSFPbX7P4nYyzbzf4yErsnLgQwCP
收到HTTP响应: 状态码=200, 数据长度=483字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":300,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 300
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T13:56:03+08:00
Master信息已缓存，有效期至: 2025-05-26T14:26:03+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/60332/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 13:56:03.4352227 +0800 CST m=+0.405230901 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWHoncVxSNogpzE68pWSFPbX7P4nYyzbzf4yErsnLgQwCP","timestamp":1748238963437149200,"addrs":["/ip4/127.0.0.1/udp/60332/quic-v1","/ip4/192.168.0.70/udp/60332/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748238963437662200,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (/ip4/192.168.0.70/udp/59285/quic-v1)
[连接通知] 注册新客户端: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/59285/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/60332/quic-v1
  远程地址: /ip4/192.168.0.70/udp/59285/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 13:56:50
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/59285/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/59285/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/59285/quic-v1]
客户端注册完成: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 收到来自 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh","timestamp":1748239040349782400}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh","timestamp":1748239070346672700}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh","timestamp":1748239100346730000}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh","timestamp":1748239130346965300}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh","timestamp":1748239160345993600}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh","timestamp":1748239190346950300}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh","timestamp":1748239220346322500}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:26:03+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh","timestamp":1748239250346799000}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[连接通知] 客户端断开连接: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWRvB72Koa6TqdhLZLuvBxFzw57hV4htxTsxcTAJNe6SGh
==============================
[Agent] 2025/05/26 14:01:13 接收到停止信号，正在停止Agent节点...
Agent 节点已停止
[打洞监听] 停止监听打洞请求
[打洞注册] 节点 12D3KooWHoncVxSNogpzE68pWSFPbX7P4nYyzbzf4yErsnLgQwCP 已取消注册
[Agent] 2025/05/26 14:01:13 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWAydz5o2Zxn4A2428GN8weUGUY9e9nVNtV6UobSQWKcGw
  监听地址:
    - /ip4/127.0.0.1/udp/54817/quic-v1/p2p/12D3KooWAydz5o2Zxn4A2428GN8weUGUY9e9nVNtV6UobSQWKcGw
    - /ip4/192.168.0.70/udp/54817/quic-v1/p2p/12D3KooWAydz5o2Zxn4A2428GN8weUGUY9e9nVNtV6UobSQWKcGw
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
Agent 节点已启动
[Agent] 2025/05/26 14:02:07 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:02:07 按Ctrl+C停止节点
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
[打洞注册] 节点 12D3KooWAydz5o2Zxn4A2428GN8weUGUY9e9nVNtV6UobSQWKcGw 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWAydz5o2Zxn4A2428GN8weUGUY9e9nVNtV6UobSQWKcGw
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=483字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":300,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 300
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:02:07+08:00
Master信息已缓存，有效期至: 2025-05-26T14:32:07+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:32:07+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/54817/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:02:07.456047 +0800 CST m=+0.340561401 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWAydz5o2Zxn4A2428GN8weUGUY9e9nVNtV6UobSQWKcGw","timestamp":1748239327457639500,"addrs":["/ip4/127.0.0.1/udp/54817/quic-v1","/ip4/192.168.0.70/udp/54817/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748239327458155800,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:32:07+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWC6dNfgQUbUUNq31WLTaA9DDsM5ZmXZGgqbm3EvjospHd (/ip4/192.168.0.70/udp/60101/quic-v1)
[连接通知] 注册新客户端: 12D3KooWC6dNfgQUbUUNq31WLTaA9DDsM5ZmXZGgqbm3EvjospHd

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWC6dNfgQUbUUNq31WLTaA9DDsM5ZmXZGgqbm3EvjospHd
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/60101/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/54817/quic-v1
  远程地址: /ip4/192.168.0.70/udp/60101/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:02:37
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/60101/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/60101/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/60101/quic-v1]
客户端注册完成: 12D3KooWC6dNfgQUbUUNq31WLTaA9DDsM5ZmXZGgqbm3EvjospHd
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:32:07+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:32:07+08:00)
[连接通知] 客户端断开连接: 12D3KooWC6dNfgQUbUUNq31WLTaA9DDsM5ZmXZGgqbm3EvjospHd

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWC6dNfgQUbUUNq31WLTaA9DDsM5ZmXZGgqbm3EvjospHd
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWC6dNfgQUbUUNq31WLTaA9DDsM5ZmXZGgqbm3EvjospHd
==============================
[Agent] 2025/05/26 14:03:02 接收到停止信号，正在停止Agent节点...
Agent 节点已停止
[打洞监听] 停止监听打洞请求
[Agent] 2025/05/26 14:03:02 Agent节点已成功停止
[打洞注册] 节点 12D3KooWAydz5o2Zxn4A2428GN8weUGUY9e9nVNtV6UobSQWKcGw 已取消注册
Agent 节点已创建：
  PeerID: 12D3KooWD5oSPvN6qX6CJjBFLiW8fHpS4qHzi51aia57rVVUxYLU
  监听地址:
    - /ip4/127.0.0.1/udp/55677/quic-v1/p2p/12D3KooWD5oSPvN6qX6CJjBFLiW8fHpS4qHzi51aia57rVVUxYLU
    - /ip4/192.168.0.70/udp/55677/quic-v1/p2p/12D3KooWD5oSPvN6qX6CJjBFLiW8fHpS4qHzi51aia57rVVUxYLU
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
[Agent] 2025/05/26 14:06:29 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:06:29 按Ctrl+C停止节点
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
[打洞注册] 节点 12D3KooWD5oSPvN6qX6CJjBFLiW8fHpS4qHzi51aia57rVVUxYLU 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWD5oSPvN6qX6CJjBFLiW8fHpS4qHzi51aia57rVVUxYLU
收到HTTP响应: 状态码=200, 数据长度=482字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":39,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 39
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:06:29+08:00
Master信息已缓存，有效期至: 2025-05-26T14:36:29+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/55677/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:06:29.3646769 +0800 CST m=+0.145224601 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWD5oSPvN6qX6CJjBFLiW8fHpS4qHzi51aia57rVVUxYLU","timestamp":1748239589367424600,"addrs":["/ip4/127.0.0.1/udp/55677/quic-v1","/ip4/192.168.0.70/udp/55677/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748239589367935800,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (/ip4/192.168.0.70/udp/55680/quic-v1)
[连接通知] 注册新客户端: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/55680/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/55677/quic-v1
  远程地址: /ip4/192.168.0.70/udp/55680/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:06:43
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/55680/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/55680/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/55680/quic-v1]
客户端注册完成: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[发现协议] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3","timestamp":1748239633786784000}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[发现协议] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的请求
[发现协议] 读取请求完成(EOF)，共读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3","timestamp":1748239663786524000}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[发现协议] 没有其他节点信息可返回
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[发送响应] 发送失败: stream reset (remote): code: 0x0: transport error: stream 108 canceled by remote with error code 0
[发现协议] 发送查询响应失败
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[发现协议] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3","timestamp":1748239693786714700}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[发现协议] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3","timestamp":1748239723786550500}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons3.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons3.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons4.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons4.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt3.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt3.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: clients2.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: clients2.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: mbd.baidu.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: ogads-pa.clients6.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: ogads-pa.clients6.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: gitlab.broearn.net:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: gitlab.broearn.net:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: play.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons3.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons3.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons4.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons4.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt3.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt3.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: clients2.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: gitlab.broearn.net:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: gitlab.broearn.net:443
[发现协议] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons.gcp.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons.gcp.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons2.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons2.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons4.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons4.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt3.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons5.gvt3.com:443
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3","timestamp":1748239753786496600}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: clients2.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: clients2.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp 59.24.3.174:443: connectex: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons2.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons2.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons.gcp.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons.gcp.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: beacons.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[发现协议] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3","timestamp":1748239783786019600}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: optimizationguide-pa.googleapis.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: developer.huawei.com:443
[隧道代理] 目标地址: developer.huawei.com:443
[隧道代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理请求
[隧道代理] 目标地址: developer.huawei.com:443
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[发现协议] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3","timestamp":1748239813786253800}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:36:29+08:00)
[发现协议] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的请求
[API代理] 收到来自 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的业务API请求
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[API代理] 连接业务服务器失败: dial tcp 127.0.0.1:8089: connectex: No connection could be made because the target machine actively refused it.
[Agent] 2025/05/26 14:10:53 接收到停止信号，正在停止Agent节点...
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[发现协议] 读取请求失败: connection closed (local): code: 0x0: transport error: Application error 0x0 (local)
[发现协议] 尽管有错误，但将处理已读取的 127 字节数据
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3","timestamp":1748239843786433800}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[发现协议] 已知节点: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 (类型: 3)
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[连接通知] 客户端断开连接: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭

====== 开始客户端注销流程 ======
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
客户端ID: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
已移除心跳监控
[发现协议] 将返回 0 个节点信息给 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
[发现协议] 没有其他节点信息可返回
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
已从节点发现服务移除
所有连接已关闭
[发送响应] 发送失败: connection closed (local): code: 0x0: transport error: Application error 0x0 (local)
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
[隧道代理] 与 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3 的代理连接已关闭
客户端注销完成: 12D3KooWCYcmxhsRvXZnzRc1q2YdaXv7EEA3cbWc8ih56dzsG1P3
==============================
[发现协议] 发送查询响应失败
Agent 节点已停止
[Agent] 2025/05/26 14:10:53 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWEeXSQkrqsTZRyVrh998nJJ3kZacHUy8EK3UJTexjpncF
  监听地址:
    - /ip4/127.0.0.1/udp/50299/quic-v1/p2p/12D3KooWEeXSQkrqsTZRyVrh998nJJ3kZacHUy8EK3UJTexjpncF
    - /ip4/192.168.0.70/udp/50299/quic-v1/p2p/12D3KooWEeXSQkrqsTZRyVrh998nJJ3kZacHUy8EK3UJTexjpncF
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:11:03 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:11:03 按Ctrl+C停止节点
[打洞注册] 节点 12D3KooWEeXSQkrqsTZRyVrh998nJJ3kZacHUy8EK3UJTexjpncF 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWEeXSQkrqsTZRyVrh998nJJ3kZacHUy8EK3UJTexjpncF
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=481字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":1,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 1
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:11:03+08:00
Master信息已缓存，有效期至: 2025-05-26T14:41:03+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:03+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/50299/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:11:03.2623194 +0800 CST m=+0.131669601 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWEeXSQkrqsTZRyVrh998nJJ3kZacHUy8EK3UJTexjpncF","timestamp":1748239863265356100,"addrs":["/ip4/127.0.0.1/udp/50299/quic-v1","/ip4/192.168.0.70/udp/50299/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748239863265968800,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
[Agent] 2025/05/26 14:11:20 接收到停止信号，正在停止Agent节点...
Agent 节点已停止
[Agent] 2025/05/26 14:11:20 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWMdRRoXMQDQ7pjA33GuJhx3nkKF3jn4QEWyudE2ieTJTP
  监听地址:
    - /ip4/127.0.0.1/udp/60772/quic-v1/p2p/12D3KooWMdRRoXMQDQ7pjA33GuJhx3nkKF3jn4QEWyudE2ieTJTP
    - /ip4/192.168.0.70/udp/60772/quic-v1/p2p/12D3KooWMdRRoXMQDQ7pjA33GuJhx3nkKF3jn4QEWyudE2ieTJTP
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:11:33 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:11:33 按Ctrl+C停止节点
[打洞注册] 节点 12D3KooWMdRRoXMQDQ7pjA33GuJhx3nkKF3jn4QEWyudE2ieTJTP 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWMdRRoXMQDQ7pjA33GuJhx3nkKF3jn4QEWyudE2ieTJTP
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=481字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":1,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 1
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:11:33+08:00
Master信息已缓存，有效期至: 2025-05-26T14:41:33+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/60772/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:11:33.4016626 +0800 CST m=+0.144127201 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWMdRRoXMQDQ7pjA33GuJhx3nkKF3jn4QEWyudE2ieTJTP","timestamp":1748239893403658000,"addrs":["/ip4/127.0.0.1/udp/60772/quic-v1","/ip4/192.168.0.70/udp/60772/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748239893404416600,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz (/ip4/192.168.0.70/udp/57305/quic-v1)
[隧道代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的代理请求
[连接通知] 注册新客户端: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/57305/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/60772/quic-v1
  远程地址: /ip4/192.168.0.70/udp/57305/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:11:40
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/57305/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/57305/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/57305/quic-v1]
客户端注册完成: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[隧道代理] 目标地址: /hello:80
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[隧道代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[发现协议] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz","timestamp":1748239930786034900}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[发现协议] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz","timestamp":1748239960776998100}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[发现协议] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz","timestamp":1748239990777982800}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[发现协议] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz","timestamp":1748240020776341400}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[隧道代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的代理请求
[隧道代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[发现协议] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz","timestamp":1748240050776919700}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[API代理] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的业务API请求
[发现协议] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz","timestamp":1748240080776803600}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz","timestamp":1748240110776646100}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:41:33+08:00)
[Agent] 2025/05/26 14:15:43 接收到停止信号，正在停止Agent节点...
[连接通知] 客户端断开连接: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
==============================
[隧道代理] 读取请求失败: connection closed (local): code: 0x0: transport error: Application error 0x0 (local)
[隧道代理] 读取请求失败: connection closed (local): code: 0x0: transport error: Application error 0x0 (local)
[发现协议] 读取请求失败: connection closed (local): code: 0x0: transport error: Application error 0x0 (local)
[发现协议] 尽管有错误，但将处理已读取的 127 字节数据
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz","timestamp":1748240140779194000}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 0
[发现协议] 将返回 0 个节点信息给 12D3KooWKS7KwqquRyzurRGBAHtWn3dMFNFdBbmJxUHbFVka8baz
[发现协议] 没有其他节点信息可返回
[发送响应] 发送失败: connection closed (local): code: 0x0: transport error: Application error 0x0 (local)
[发现协议] 发送查询响应失败
Agent 节点已停止
[Agent] 2025/05/26 14:15:43 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWDoQPVE1ixh5a4m7FdtcjT8dKEQmJWmyHjhDH5HPWK9sc
  监听地址:
    - /ip4/127.0.0.1/udp/61462/quic-v1/p2p/12D3KooWDoQPVE1ixh5a4m7FdtcjT8dKEQmJWmyHjhDH5HPWK9sc
    - /ip4/192.168.0.70/udp/61462/quic-v1/p2p/12D3KooWDoQPVE1ixh5a4m7FdtcjT8dKEQmJWmyHjhDH5HPWK9sc
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:16:05 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:16:05 按Ctrl+C停止节点
[打洞注册] 节点 12D3KooWDoQPVE1ixh5a4m7FdtcjT8dKEQmJWmyHjhDH5HPWK9sc 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWDoQPVE1ixh5a4m7FdtcjT8dKEQmJWmyHjhDH5HPWK9sc
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=483字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":300,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 300
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:16:06+08:00
Master信息已缓存，有效期至: 2025-05-26T14:46:06+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:06+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/61462/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:16:06.2888623 +0800 CST m=+0.403672201 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWDoQPVE1ixh5a4m7FdtcjT8dKEQmJWmyHjhDH5HPWK9sc","timestamp":1748240166291683800,"addrs":["/ip4/127.0.0.1/udp/61462/quic-v1","/ip4/192.168.0.70/udp/61462/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748240166292205200,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:06+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWM4qoAiAYt6hC5BBFDf1VB6xEvZwAzamgXuaE9inpvQdZ (/ip4/192.168.0.70/udp/51400/quic-v1)
[连接通知] 注册新客户端: 12D3KooWM4qoAiAYt6hC5BBFDf1VB6xEvZwAzamgXuaE9inpvQdZ

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWM4qoAiAYt6hC5BBFDf1VB6xEvZwAzamgXuaE9inpvQdZ
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/51400/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/61462/quic-v1
  远程地址: /ip4/192.168.0.70/udp/51400/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:16:16
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/51400/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/51400/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/51400/quic-v1]
客户端注册完成: 12D3KooWM4qoAiAYt6hC5BBFDf1VB6xEvZwAzamgXuaE9inpvQdZ
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:06+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:06+08:00)
[Agent] 2025/05/26 14:16:17 接收到停止信号，正在停止Agent节点...
[连接通知] 客户端断开连接: 12D3KooWM4qoAiAYt6hC5BBFDf1VB6xEvZwAzamgXuaE9inpvQdZ

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWM4qoAiAYt6hC5BBFDf1VB6xEvZwAzamgXuaE9inpvQdZ
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWM4qoAiAYt6hC5BBFDf1VB6xEvZwAzamgXuaE9inpvQdZ
==============================
Agent 节点已停止
[打洞监听] 停止监听打洞请求
[Agent] 2025/05/26 14:16:17 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWJJyJJgtiqQz7T4VPwaCMRHhw2Ar1vEWJbh6BaWDuLe2t
  监听地址:
    - /ip4/127.0.0.1/udp/55390/quic-v1/p2p/12D3KooWJJyJJgtiqQz7T4VPwaCMRHhw2Ar1vEWJbh6BaWDuLe2t
    - /ip4/192.168.0.70/udp/55390/quic-v1/p2p/12D3KooWJJyJJgtiqQz7T4VPwaCMRHhw2Ar1vEWJbh6BaWDuLe2t
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:16:47 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:16:47 按Ctrl+C停止节点
[打洞注册] 节点 12D3KooWJJyJJgtiqQz7T4VPwaCMRHhw2Ar1vEWJbh6BaWDuLe2t 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWJJyJJgtiqQz7T4VPwaCMRHhw2Ar1vEWJbh6BaWDuLe2t
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=483字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":259,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 259
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:16:47+08:00
Master信息已缓存，有效期至: 2025-05-26T14:46:47+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:47+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/55390/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:16:47.481288 +0800 CST m=+0.148839101 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWJJyJJgtiqQz7T4VPwaCMRHhw2Ar1vEWJbh6BaWDuLe2t","timestamp":1748240207482984700,"addrs":["/ip4/127.0.0.1/udp/55390/quic-v1","/ip4/192.168.0.70/udp/55390/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748240207483521800,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:47+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h (/ip4/192.168.0.70/udp/57892/quic-v1)
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[连接通知] 注册新客户端: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/57892/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/55390/quic-v1
  远程地址: /ip4/192.168.0.70/udp/57892/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:17:08
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/57892/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/57892/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/57892/quic-v1]
客户端注册完成: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:47+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:47+08:00)
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的代理请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[发现协议] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:47+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:47+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h","timestamp":1748240258371464400}

[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[发现协议] 没有其他节点信息可返回
[发送响应] 发送失败: stream reset (remote): code: 0x0: transport error: stream 60 canceled by remote with error code 0
[发现协议] 发送查询响应失败
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[发现协议] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:47+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:46:47+08:00)
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h","timestamp":1748240288370830900}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API请求
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[API代理] 与 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的业务API代理连接已关闭
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 读取请求失败: connection closed (remote): code: 0x0: transport error: Application error 0x0 (remote)
[连接通知] 客户端断开连接: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWDbbcbFwuB4mwLKCcGiSjHrkQf4bp51BqqtgPRNsfok4h
==============================
[Agent] 2025/05/26 14:18:43 接收到停止信号，正在停止Agent节点...
Agent 节点已停止
[Agent] 2025/05/26 14:18:43 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWN4vWBPLnETX2qnoAz22ZTzn1xz5tgHBhZf6j2bigtPzt
  监听地址:
    - /ip4/127.0.0.1/udp/51489/quic-v1/p2p/12D3KooWN4vWBPLnETX2qnoAz22ZTzn1xz5tgHBhZf6j2bigtPzt
    - /ip4/192.168.0.70/udp/51489/quic-v1/p2p/12D3KooWN4vWBPLnETX2qnoAz22ZTzn1xz5tgHBhZf6j2bigtPzt
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:18:51 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:18:51 按Ctrl+C停止节点
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
[打洞注册] 节点 12D3KooWN4vWBPLnETX2qnoAz22ZTzn1xz5tgHBhZf6j2bigtPzt 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWN4vWBPLnETX2qnoAz22ZTzn1xz5tgHBhZf6j2bigtPzt
收到HTTP响应: 状态码=200, 数据长度=481字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":1,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 1
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:18:51+08:00
Master信息已缓存，有效期至: 2025-05-26T14:48:51+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:48:51+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/51489/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:18:51.6407008 +0800 CST m=+0.130158601 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWN4vWBPLnETX2qnoAz22ZTzn1xz5tgHBhZf6j2bigtPzt","timestamp":1748240331642279600,"addrs":["/ip4/127.0.0.1/udp/51489/quic-v1","/ip4/192.168.0.70/udp/51489/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748240331642799200,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:48:51+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD (/ip4/192.168.0.70/udp/54014/quic-v1)
[连接通知] 注册新客户端: 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/54014/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/51489/quic-v1
  远程地址: /ip4/192.168.0.70/udp/54014/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:19:03
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/54014/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/54014/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/54014/quic-v1]
客户端注册完成: 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:48:51+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:48:51+08:00)
[API代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API请求
[API代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API请求
[API代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API请求
[API代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API代理连接已关闭
[API代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API代理连接已关闭
[API代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API请求
[API代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API请求
[API代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API请求
[API代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API请求
[API代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API代理连接已关闭
[API代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API代理连接已关闭
[API代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API请求
[API代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: http://194.68.32.224:8089/hello
[隧道代理] 连接目标服务器失败: dial tcp: address http://194.68.32.224:8089/hello: too many colons in address
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: www.google.com:443
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: clients2.google.com:443
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: clients2.google.com:443
[发现协议] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的请求
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:48:51+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:48:51+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD","timestamp":1748240373343214700}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[Agent] 2025/05/26 14:19:37 接收到停止信号，正在停止Agent节点...
[连接通知] 客户端断开连接: 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD
==============================
[隧道代理] 读取请求失败: connection closed (local): code: 0x0: transport error: Application error 0x0 (local)
[隧道代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理连接已关闭
[隧道代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理连接已关闭
[隧道代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理连接已关闭
[隧道代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理连接已关闭
[隧道代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理连接已关闭
[隧道代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理连接已关闭
[隧道代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理连接已关闭
[隧道代理] 与 12D3KooWD25mXuqxk4f74B9c7hCkMdx1z31ebnacsDh3fmoCwTLD 的代理连接已关闭
Agent 节点已停止
[Agent] 2025/05/26 14:19:37 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWCVq2PKBfXzxzJEQ2tywqBNVAuaZWXNKXyfsCmvPGXZ4m
  监听地址:
    - /ip4/127.0.0.1/udp/51816/quic-v1/p2p/12D3KooWCVq2PKBfXzxzJEQ2tywqBNVAuaZWXNKXyfsCmvPGXZ4m
    - /ip4/192.168.0.70/udp/51816/quic-v1/p2p/12D3KooWCVq2PKBfXzxzJEQ2tywqBNVAuaZWXNKXyfsCmvPGXZ4m
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:20:11 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:20:11 按Ctrl+C停止节点
====================DNS解析开始====================

====================DNS解析开始====================
[打洞注册] 节点 12D3KooWCVq2PKBfXzxzJEQ2tywqBNVAuaZWXNKXyfsCmvPGXZ4m 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWCVq2PKBfXzxzJEQ2tywqBNVAuaZWXNKXyfsCmvPGXZ4m
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=482字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":55,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 55
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:20:11+08:00
Master信息已缓存，有效期至: 2025-05-26T14:50:11+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/51816/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:20:11.9665345 +0800 CST m=+0.135041001 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWCVq2PKBfXzxzJEQ2tywqBNVAuaZWXNKXyfsCmvPGXZ4m","timestamp":1748240411968100600,"addrs":["/ip4/127.0.0.1/udp/51816/quic-v1","/ip4/192.168.0.70/udp/51816/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748240411969154100,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq (/ip4/192.168.0.70/udp/50606/quic-v1)
[连接通知] 注册新客户端: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/50606/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/51816/quic-v1
  远程地址: /ip4/192.168.0.70/udp/50606/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:20:24
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/50606/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/50606/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/50606/quic-v1]
客户端注册完成: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 目标地址: beacons2.gvt2.com:443
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 目标地址: beacons2.gvt2.com:443
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq","timestamp":1748240454444481900}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[发现协议] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq","timestamp":1748240484438453600}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[发现协议] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq","timestamp":1748240514438324400}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[隧道代理] 目标地址: /hello:80
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[发现协议] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq","timestamp":1748240544438389200}

[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
[发现协议] 没有其他节点信息可返回
[发送响应] 发送失败: stream reset (remote): code: 0x0: transport error: stream 268 canceled by remote with error code 0
[发现协议] 发送查询响应失败
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[发现协议] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq","timestamp":1748240574438113500}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq","timestamp":1748240604438513500}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:50:11+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq","timestamp":1748240634438044100}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API请求
[API代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的业务API代理连接已关闭
[隧道代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理连接已关闭
[连接通知] 客户端断开连接: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq
==============================
[隧道代理] 读取请求失败: connection closed (remote): code: 0x0: transport error: Application error 0x0 (remote)
[隧道代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理连接已关闭
[隧道代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理连接已关闭
[隧道代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理连接已关闭
[隧道代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理连接已关闭
[隧道代理] 与 12D3KooWMGAHpby6sCPjrBKg1Ws5JErBWagYGfQud7TQvsMVYNFq 的代理连接已关闭
[Agent] 2025/05/26 14:24:17 接收到停止信号，正在停止Agent节点...
Agent 节点已停止
[Agent] 2025/05/26 14:24:17 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWJT1gZLNdHcHi64fdBxyXchkshFvb9qjWvxa5rEeNn97G
  监听地址:
    - /ip4/127.0.0.1/udp/63474/quic-v1/p2p/12D3KooWJT1gZLNdHcHi64fdBxyXchkshFvb9qjWvxa5rEeNn97G
    - /ip4/192.168.0.70/udp/63474/quic-v1/p2p/12D3KooWJT1gZLNdHcHi64fdBxyXchkshFvb9qjWvxa5rEeNn97G
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:28:28 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:28:28 按Ctrl+C停止节点
====================DNS解析开始====================
[打洞注册] 节点 12D3KooWJT1gZLNdHcHi64fdBxyXchkshFvb9qjWvxa5rEeNn97G 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWJT1gZLNdHcHi64fdBxyXchkshFvb9qjWvxa5rEeNn97G

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=481字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":1,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 1
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:28:28+08:00
Master信息已缓存，有效期至: 2025-05-26T14:58:28+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:58:28+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/63474/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:28:28.6093191 +0800 CST m=+0.129935101 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWJT1gZLNdHcHi64fdBxyXchkshFvb9qjWvxa5rEeNn97G","timestamp":1748240908611850800,"addrs":["/ip4/127.0.0.1/udp/63474/quic-v1","/ip4/192.168.0.70/udp/63474/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748240908613205800,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:58:28+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw (/ip4/192.168.0.70/udp/56123/quic-v1)
[连接通知] 注册新客户端: 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/56123/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/63474/quic-v1
  远程地址: /ip4/192.168.0.70/udp/56123/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:28:41
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/56123/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/56123/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/56123/quic-v1]
客户端注册完成: 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:58:28+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:58:28+08:00)
[隧道代理] 收到来自 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[发现协议] 收到来自 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:58:28+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T14:58:28+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw","timestamp":1748240951777790600}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[Agent] 2025/05/26 14:29:29 接收到停止信号，正在停止Agent节点...
[连接通知] 客户端断开连接: 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWPmqpa4aPCLk43fFd7KHhwgXQdv7uj81rTZMDPVaBUDMw
==============================
Agent 节点已停止
[Agent] 2025/05/26 14:29:29 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWMTFVcVAmvAUK9f56NtBEXFyVyp39dEEAL4XQWDHFV4qm
  监听地址:
    - /ip4/127.0.0.1/udp/62117/quic-v1/p2p/12D3KooWMTFVcVAmvAUK9f56NtBEXFyVyp39dEEAL4XQWDHFV4qm
    - /ip4/192.168.0.70/udp/62117/quic-v1/p2p/12D3KooWMTFVcVAmvAUK9f56NtBEXFyVyp39dEEAL4XQWDHFV4qm
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:30:16 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:30:16 按Ctrl+C停止节点
[打洞注册] 节点 12D3KooWMTFVcVAmvAUK9f56NtBEXFyVyp39dEEAL4XQWDHFV4qm 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWMTFVcVAmvAUK9f56NtBEXFyVyp39dEEAL4XQWDHFV4qm
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=483字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":271,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 271
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:30:16+08:00
Master信息已缓存，有效期至: 2025-05-26T15:00:16+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/62117/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:30:16.4256476 +0800 CST m=+0.131961501 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWMTFVcVAmvAUK9f56NtBEXFyVyp39dEEAL4XQWDHFV4qm","timestamp":1748241016427748800,"addrs":["/ip4/127.0.0.1/udp/62117/quic-v1","/ip4/192.168.0.70/udp/62117/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748241016428785700,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (/ip4/192.168.0.70/udp/62656/quic-v1)
[连接通知] 注册新客户端: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/62656/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/62117/quic-v1
  远程地址: /ip4/192.168.0.70/udp/62656/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:30:38
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/62656/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/62656/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/62656/quic-v1]
客户端注册完成: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241068860797500}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: beacons4.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: beacons4.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: beacons2.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: beacons2.gvt2.com:443
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241098856445900}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241128857101900}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241158856260300}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241188856112600}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 发送失败: stream reset (remote): code: 0x0: transport error: stream 292 canceled by remote with error code 0
[发现协议] 发送查询响应失败
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241218855926400}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241248856810800}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241278856776300}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241308856951000}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241339917538000}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241368856079000}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241398857085200}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[发现协议] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:00:16+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD","timestamp":1748241428856269600}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[API代理] 收到来自 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API请求
[API代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的业务API代理连接已关闭
[Agent] 2025/05/26 14:37:35 接收到停止信号，正在停止Agent节点...
[隧道代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理连接已关闭
[隧道代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理连接已关闭
[隧道代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理连接已关闭
[隧道代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理连接已关闭
[隧道代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理连接已关闭
[隧道代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理连接已关闭
[隧道代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理连接已关闭
[隧道代理] 与 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD 的代理连接已关闭
[连接通知] 客户端断开连接: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWCpo8aBv3hyTsCsz45q8Xvmt63pU36hXDQ6AVCt2tRATD
==============================
Agent 节点已停止
[打洞监听] 停止监听打洞请求
[打洞注册] 节点 12D3KooWMTFVcVAmvAUK9f56NtBEXFyVyp39dEEAL4XQWDHFV4qm 已取消注册
[Agent] 2025/05/26 14:37:35 Agent节点已成功停止
Agent 节点已创建：
  PeerID: 12D3KooWB3zQSGhVsJQoxGUu2iWdGEVP7G8o1ck9QG1stNer5TaK
  监听地址:
    - /ip4/127.0.0.1/udp/60663/quic-v1/p2p/12D3KooWB3zQSGhVsJQoxGUu2iWdGEVP7G8o1ck9QG1stNer5TaK
    - /ip4/192.168.0.70/udp/60663/quic-v1/p2p/12D3KooWB3zQSGhVsJQoxGUu2iWdGEVP7G8o1ck9QG1stNer5TaK
[发现服务] 已注册发现协议处理器: /shiledp2p/v1.0.0/discovery
[发现服务] 协议字节表示: [47 115 104 105 108 101 100 112 50 112 47 118 49 46 48 46 48 47 100 105 115 99 111 118 101 114 121]
[发现服务] 协议字符串: /shiledp2p/v1.0.0/discovery
代理服务已启动
[代理] 已注册API代理协议处理器: /p2p/api-proxy/1.0.0
[代理] 已注册隧道代理协议处理器: /p2p/tunnel-proxy/1.0.0
Agent 节点已启动
[Agent] 2025/05/26 14:44:01 Agent节点已启动并运行中...
[Agent] 2025/05/26 14:44:01 按Ctrl+C停止节点
====================DNS解析开始====================

====================DNS解析开始====================
使用阿里云HTTPS DNS JSON API服务 https://dns.alidns.com/resolve 查询TXT记录
查询域名: test.halochat.dev, 记录类型: TXT(16)
[打洞注册] 节点 12D3KooWB3zQSGhVsJQoxGUu2iWdGEVP7G8o1ck9QG1stNer5TaK 已注册接收打洞请求
[打洞监听] 开始监听打洞请求，节点ID: 12D3KooWB3zQSGhVsJQoxGUu2iWdGEVP7G8o1ck9QG1stNer5TaK
HTTP请求URL: https://dns.alidns.com/resolve?name=test.halochat.dev&type=16
收到HTTP响应: 状态码=200, 数据长度=481字节
响应数据: {"Status":0,"TC":false,"RD":true,"RA":true,"AD":false,"CD":false,"Question":{"name":"test.halochat.dev.","type":16},"Answer":[{"name":"test.halochat.dev.","TTL":1,"type":16,"data":"\"MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH\" \"mVkwUnS4P426oHMZwNpj1jmW50Xbmg==\""}]}

找到 1 条TXT记录
---------------------------------------------------

处理TXT记录 #1:
记录名称: test.halochat.dev.
TTL: 1
原始数据: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
原始格式: "MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SH" "mVkwUnS4P426oHMZwNpj1jmW50Xbmg=="
处理分段后: MASTER=5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
提取的加密Base64数据: 5+0yIpGL86HnxgvEu5+r0hOetIsEVydsD3bpkkA/urDPkkfgfGi4Y9S2fDu2yHPZbj0qPGDEVnlwDy7OckwybvLjV3f6qUQI66QCwBKUY1XDWHwF32fOa30OoyzguBWEOjN38fFZDhbr6WrWwVo3Mlqhl5sElvoIStxPoLeelO6KDfODObJdS5c8xbeF1vFffXpbt8QHRbxiKHSYt4DGT66Xy9AjwGPbqelFQ3fxsTkj/Y9KHB+tG3SHmVkwUnS4P426oHMZwNpj1jmW50Xbmg==
Base64解码后的原始字节数: 208
加密数据(前32字节，16进制): e7 ed 32 22 91 8b f3 a1 e7 c6 0b c4 bb 9f ab d2 13 9e b4 8b 04 57 27 6c 0f 76 e9 92 40 3f ba b0 ... (共208字节)
开始AES解密...
解密后的数据: {"peer_id":"12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1","multiaddrs":["/ip4/51.158.154.147/udp/50395/quic-v1/p2p/12D3KooWGcBW5nzLfSiGoEvfHfmy1BGwqBLxN99ZdmN5NNFgsCe1"],"timestamp":1747905573}
成功解析Master信息:
  PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  公网地址数量: 2
  地址 #1: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  地址 #2: /ip4/192.168.0.70/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
  时间戳: 2025-05-26T14:44:01+08:00
Master信息已缓存，有效期至: 2025-05-26T15:14:01+08:00
====================DNS解析完成====================
DNS解析成功，将缓存结果 5m0s
====================DNS解析结束====================
使用缓存的Master多地址: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA

[连接Master] 尝试连接到Master节点: /ip4/127.0.0.1/udp/8440/quic-v1/p2p/12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
[连接通知] 检测到Master节点连接: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[连接Master] 成功连接到Master节点
[连接Master] 连接 #1:
  本地地址: /ip4/0.0.0.0/udp/60663/quic-v1
  远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
  连接状态: {Stats:{Direction:Outbound Opened:2025-05-26 14:44:01.5646769 +0800 CST m=+0.143723801 Limited:false Extra:map[]} NumStreams:0}
[注册Master] 发送简单注册请求...
[发送注册] 目标节点: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA
[发送注册] 使用协议: /shiledp2p/v1.0.0/discovery
[发送注册] 尝试建立流连接...
[发送注册] 成功创建流，使用的协议: /shiledp2p/v1.0.0/discovery
[发送注册] 远程地址: /ip4/127.0.0.1/udp/8440/quic-v1
[发送注册] 发送注册请求: {"action":"register","node_type":2,"from":"12D3KooWB3zQSGhVsJQoxGUu2iWdGEVP7G8o1ck9QG1stNer5TaK","timestamp":1748241841567253300,"addrs":["/ip4/127.0.0.1/udp/60663/quic-v1","/ip4/192.168.0.70/udp/60663/quic-v1"]}

[发送注册] 注册请求已发送
[发送注册] 收到响应: {"status":"success","message":"Agent注册成功","node_type":1,"from":"12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA","timestamp":1748241841567797000,"action":"register"}

[发送注册] 解析响应: 状态=success, 消息=Agent注册成功
[发送注册] 注册完成
[注册Master] 注册请求已发送
[NAT检测] 未检测到公网地址，假设NAT类型: 端口限制型
[NAT检测] 完成NAT类型检测: 4
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
[连接通知] 检测到新的客户端连接: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj (/ip4/192.168.0.70/udp/54201/quic-v1)
[连接通知] 注册新客户端: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj

====== 开始客户端注册流程 ======
客户端ID: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj
原始地址数量: 1
原始地址 #1: /ip4/192.168.0.70/udp/54201/quic-v1
与客户端建立了 1 个连接
客户端连接 #1:
  本地地址: /ip4/0.0.0.0/udp/60663/quic-v1
  远程地址: /ip4/192.168.0.70/udp/54201/quic-v1
  连接方向: Inbound
  连接建立时间: 2025-05-26 14:44:19
警告: 未检测到公网地址，使用原始地址
保留原始地址: /ip4/192.168.0.70/udp/54201/quic-v1
更新后的地址数量: 1
更新后地址 #1: /ip4/192.168.0.70/udp/54201/quic-v1
已将客户端添加到节点发现服务，地址: [/ip4/192.168.0.70/udp/54201/quic-v1]
客户端注册完成: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj
============================
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
[发现协议] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 目标地址: play.google.com:443
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 目标地址: www.baidu.com:443
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 目标地址: pss.bdstatic.com:443
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj","timestamp":1748241889005980500}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 目标地址: /hello:80
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 连接目标服务器失败: dial tcp 59.24.3.174:443: connectex: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond.
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
[发现协议] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的请求
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj","timestamp":1748241919006348500}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[隧道代理] 目标地址: /hello:80
[隧道代理] 连接目标服务器失败: dial tcp: lookup /hello: no such host
[隧道代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理请求
[API代理] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的业务API请求
[发现协议] 收到来自 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的请求
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
使用缓存的Master PeerID: 12D3KooWSSSJYbDMcB2sjuW9ehVeC2QX5rwSMLFanSnHiuqBG9DA (有效期至: 2025-05-26T15:14:01+08:00)
[发现协议] 读取请求超时，已读取 127 字节
[发现协议] 收到数据(127字节): {"action":"query","node_type":3,"from":"12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj","timestamp":1748241949006473900}

[发现协议] 请求类型: Action=query, NodeType=3
[发现协议] 收到查询请求
[发现协议] 当前已知节点数量: 1
[发现协议] 已知节点: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj (类型: 3)
[发现协议] 将返回 0 个节点信息给 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj
[发现协议] 没有其他节点信息可返回
[发送响应] 已发送 182/182 字节
[发现协议] 成功发送查询响应
[Agent] 2025/05/26 14:45:54 接收到停止信号，正在停止Agent节点...
[隧道代理] 读取请求失败: connection closed (local): code: 0x0: transport error: Application error 0x0 (local)
[隧道代理] 与 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理连接已关闭
[连接通知] 客户端断开连接: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj

====== 开始客户端注销流程 ======
客户端ID: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj
已移除心跳监控
已从节点发现服务移除
所有连接已关闭
客户端注销完成: 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj
==============================
[隧道代理] 与 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理连接已关闭
[隧道代理] 与 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理连接已关闭
[隧道代理] 与 12D3KooWKmTwANCdRtA13kNMpwrH2uV3xp7Mybe4A9ZAxVxfVxPj 的代理连接已关闭
Agent 节点已停止
[Agent] 2025/05/26 14:45:54 Agent节点已成功停止
